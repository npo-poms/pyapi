#!/usr/bin/env python3
"""
  Simple client to get an object from the NPO Backend API media endpoint
"""
from npoapi import MediaBackend
from npoapi.xml import poms


client = MediaBackend().command_line_client(description="Set an media object from the NPO Backend API")
args = client.parse_args()
bytes = client.get(args.mid[0])

process = args.process

if process is None:
    print(client.parse_minidom(bytes).toprettyxml(indent="  "))
else:
    update = poms.CreateFromDocument(bytes)
    exec(process)
    print(update.toDOM().toprettyxml(indent="  "))
client.exit()

